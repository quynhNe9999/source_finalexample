<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap.min.css">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Admin Wine</title>
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/font-awesome.min.css">
	<link rel="stylesheet" href="/css/AdminLTE.css">
	<link rel="stylesheet" href="/css/_all-skins.min.css">
	<link rel="stylesheet" href="/css/jquery-ui.css">
	<link rel="stylesheet" href="/css/style.css" />
	<script src="/js/angular.min.js"></script>
	<script src="/js/app.js"></script>
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">
	<div th:replace="fragments/header :: header"></div>
	<div th:replace="fragments/sidebar :: sidebar"></div>
	<div class="content-wrapper">
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<h1>
				Quản lý nhân viên (Danh sách)

			</h1>
 			<ol class="breadcrumb">
				<li><a href="index"><i class="fa fa-dashboard"></i> Home</a></li>
				<li><a href="employees">Quản lý nhân viên</a></li>
			</ol>
		</section>

		<!-- Main content -->
		<section class="content">

			<!-- Default box -->
			<div class="col-xs-12">
				<div class="box">
					<form action="#" th:action="@{/employees}" method="get">
					<div class="box-header">
						<a href="add-employees" class="btn btn-success">+Thêm mới Nhân viên</a>
					</div>
					</form>
					<!-- /.box-header -->
					<div class="box-body table-responsive no-padding">
			<table id="example" class="table table-striped table-bordered text-center">
			<thead>
			<tr>
				<td>ID</td>
				<td>Tên Nhân viên</td>
				<td>Địa chỉ</td>
				<td>Số điện thoại</td>
				<td>Email</td>
				<td>Vị trí</td>
				<td>Ngày Sinh</td>
				<td>Mã cửa hàng</td>
				<td>Quyền truy cập</td>
				<td>Mã người dùng</td>
				<td>Chức năng</td>
			</tr>
			</thead>
			<tbody>
			<tr th:each="employees, hh : ${employees}">
					<td th:text="${employees.id}">ID</td>
					<td th:text="${employees.name}">Tên Nhân viên</td>
					<td th:text="${employees.address}">Địa chỉ</td>
					<td th:text="${employees.phone}">Số điện thoại</td>
					<td th:text="${employees.email}">Email</td>
					<td th:text="${employees.position}">Vị trí</td>
					<td th:text="${employees.dateOfBirth}">Ngày sinh</td>
				<td th:text="${employees.store != null ? employees.store.name : ''}">Mã cửa hàng</td>
				<td th:text="${employees.role != null ? employees.role.role_name : ''}">Quyền Truy Cập</td>
				<td th:text="${employees.user != null ? employees.user.username : ''}">Mã người dùng</td>

					<td>
						<a th:href="@{'/edit-employees/' + ${employees.id}}"class="btn btn-primary">Sửa</a>
						<a th:href="@{'/delete-employees/' + ${employees.id}}" class="btn btn-danger" onclick="confirmDelete(event)" >Xóa</a>
					</td>
				</tr>

			</tbody></table>
	</div>
	<!-- /.box-body -->
	</div>
	<!-- /.box -->
	</div>
	<!-- /.box -->

	</section>
	<!-- /.content -->
	</div>
	<div th:replace="fragments/footer :: footer"></div>
	</div>

<script>
	function confirmDelete(event) {
		if (!confirm('Bạn có muốn xóa bản ghi đã chọn không?')) {
			event.preventDefault(); // Ngăn chặn hành động xóa nếu người dùng không xác nhận
		}
	}
</script>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery-ui.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/adminlte.min.js"></script>
<script src="/js/dashboard.js"></script>
<script src="/tinymce/tinymce.min.js"></script>
<script src="/tinymce/config.js"></script>
<script src="/js/function.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap.min.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		$('#example').DataTable();
	} );
</script>

</body>
</html>
