<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Admin Wine</title>
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/font-awesome.min.css">
	<link rel="stylesheet" href="/css/AdminLTE.css">
	<link rel="stylesheet" href="/css/_all-skins.min.css">
	<link rel="stylesheet" href="/css/jquery-ui.css">
	<link rel="stylesheet" href="/css/style.css" />
	<script src="/js/angular.min.js"></script>
	<script src="/js/app.js"></script>
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">
	<div th:replace="fragments/header :: header"></div>
	<div th:replace="fragments/sidebar :: sidebar"></div>
	<div class="content-wrapper">
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<h1>
				Quản lý nhân viên (Danh sách)

			</h1>
 			<ol class="breadcrumb">
				<li><a href="index"><i class="fa fa-dashboard"></i> Home</a></li>
				<li><a href="employees">Quản lý nhân viên</a></li>
			</ol>
		</section>

		<!-- Main content -->
		<section class="content">

			<!-- Default box -->
			<div class="col-xs-12">
				<div class="box">
					<form action="#" th:action="@{/employees}" method="get">
					<div class="box-header">
						<a href="add-employees" class="btn btn-success">+Thêm mới Nhân viên</a>
						<div class="box-tools">
							<div class="input-group input-group-sm" style="width: 150px;">
								<input type="text" name="keyword" class="form-control pull-right" placeholder="Tìm kiếm">

								<div class="input-group-btn">
									<button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
								</div>
							</div>
						</div>
					</div>
					</form>
					<!-- /.box-header -->
					<div class="box-body table-responsive no-padding">
		<table  class="table table-hover">
			<thead>
			<tr>
				<td>ID</td>
				<td>Tên Nhân viên</td>
				<td>Địa chỉ</td>
				<td>Số điện thoại</td>
				<td>Email</td>
				<td>Vị trí</td>
				<td>Ngày Sinh</td>
				<td>Mã cửa hàng</td>
				<td>Quyền truy cập</td>
				<td>Mã người dùng</td>
				<td>Chức năng</td>
			</tr>
			</thead>
			<tbody th:with="count=0">
			<tr th:each="employees, hh : ${employees}">
					<td th:text="${employees.id}"></td>
					<td th:text="${employees.name}"></td>
					<td th:text="${employees.address}"></td>
					<td th:text="${employees.phone}"></td>
					<td th:text="${employees.email}"></td>
					<td th:text="${employees.position}"></td>
					<td th:text="${employees.dateOfBirth}"></td>
				<td th:text="${employees.store != null ? employees.store.name : ''}"></td>
				<td th:text="${employees.role != null ? employees.role.role_name : ''}"></td>
				<td th:text="${employees.user != null ? employees.user.username : ''}"></td>

					<td>
						<a th:href="@{'/edit-employees/' + ${employees.id}}"class="btn btn-primary">Sửa</a>
						<a th:href="@{'/delete-employees/' + ${employees.id}}" class="btn btn-danger" onclick="confirmDelete(event)" >Xóa</a>
					</td>
				</tr>

			</tbody></table>
	</div>
	<!-- /.box-body -->
	</div>
	<!-- /.box -->
	</div>
	<!-- /.box -->

	</section>
	<!-- /.content -->
	</div>
	<div th:replace="fragments/footer :: footer"></div>
	</div>

<script>
	function confirmDelete(event) {
		if (!confirm('Bạn có muốn xóa bản ghi đã chọn không?')) {
			event.preventDefault(); // Ngăn chặn hành động xóa nếu người dùng không xác nhận
		}
	}
</script>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery-ui.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/adminlte.min.js"></script>
<script src="/js/dashboard.js"></script>
<script src="/tinymce/tinymce.min.js"></script>
<script src="/tinymce/config.js"></script>
<script src="/js/function.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap.min.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		$('#example').DataTable();
	} );
</script>

</body>
</html>
